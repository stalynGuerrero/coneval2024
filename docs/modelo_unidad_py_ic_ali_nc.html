<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>07_Modelo_unidad_py_ic_ali_nc.R | Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020</title>
  <meta name="description" content="Manual de procesamiento." />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="07_Modelo_unidad_py_ic_ali_nc.R | Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Manual de procesamiento." />
  <meta name="github-repo" content="psirusteam/coneval" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="07_Modelo_unidad_py_ic_ali_nc.R | Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020" />
  
  <meta name="twitter:description" content="Manual de procesamiento." />
  

<meta name="author" content="Andrés Gutiérrez, Stalyn Guerrero" />


<meta name="date" content="2024-07-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modelo_unidad_ictpc.html"/>
<link rel="next" href="modelo_unidad_py_ic_segsoc.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Manual de procesamiento.</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#respositodio-de-códigos"><i class="fa fa-check"></i>Respositodio de códigos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura-del-proyecto"><i class="fa fa-check"></i>Estructura del Proyecto</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#librerias-de-r-y-otros-insumos"><i class="fa fa-check"></i>Librerias de <em>R</em> y otros insumos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bases-de-datos-utilizadas"><i class="fa fa-check"></i>Bases de Datos Utilizadas</a></li>
<li class="chapter" data-level="" data-path="indicadores-estimados.html"><a href="indicadores-estimados.html"><i class="fa fa-check"></i>Indicadores estimados</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="union_bases.html"><a href="union_bases.html"><i class="fa fa-check"></i>00_union_bases.R</a></li>
<li class="chapter" data-level="" data-path="descarga_satelitales.html"><a href="descarga_satelitales.html"><i class="fa fa-check"></i>01_Descarga_satelitales.R</a></li>
<li class="chapter" data-level="" data-path="union_predictores.html"><a href="union_predictores.html"><i class="fa fa-check"></i>02_Union_predictores.R</a></li>
<li class="chapter" data-level="" data-path="estandarizar_muestra_cuestionario_ampliado.html"><a href="estandarizar_muestra_cuestionario_ampliado.html"><i class="fa fa-check"></i>03_Estandarizar_muestra_cuestionario_ampliado.R</a></li>
<li class="chapter" data-level="" data-path="armonizar_encuesta.html"><a href="armonizar_encuesta.html"><i class="fa fa-check"></i>04_Armonizar_encuesta.R</a></li>
<li class="chapter" data-level="" data-path="validacion_encuestas.html"><a href="validacion_encuestas.html"><i class="fa fa-check"></i>05_Validacion_encuestas.R</a></li>
<li class="chapter" data-level="" data-path="modelo_unidad_ictpc.html"><a href="modelo_unidad_ictpc.html"><i class="fa fa-check"></i>06_Modelo_unidad_ictpc.R</a></li>
<li class="chapter" data-level="" data-path="modelo_unidad_py_ic_ali_nc.html"><a href="modelo_unidad_py_ic_ali_nc.html"><i class="fa fa-check"></i>07_Modelo_unidad_py_ic_ali_nc.R</a></li>
<li class="chapter" data-level="" data-path="modelo_unidad_py_ic_segsoc.html"><a href="modelo_unidad_py_ic_segsoc.html"><i class="fa fa-check"></i>08_Modelo_unidad_py_ic_segsoc</a></li>
<li class="chapter" data-level="" data-path="postbenchmarking_ictpc.html"><a href="postbenchmarking_ictpc.html"><i class="fa fa-check"></i>09_PostBenchmarking_ictpc.R</a></li>
<li class="chapter" data-level="" data-path="postbenchmarking_ic_ali_nc.html"><a href="postbenchmarking_ic_ali_nc.html"><i class="fa fa-check"></i>10_PostBenchmarking_ic_ali_nc.R</a></li>
<li class="chapter" data-level="" data-path="postbenchmarking_ic_segsoc.html"><a href="postbenchmarking_ic_segsoc.html"><i class="fa fa-check"></i>11_PostBenchmarking_ic_segsoc.r</a></li>
<li class="chapter" data-level="" data-path="imputacion_censal.html"><a href="imputacion_censal.html"><i class="fa fa-check"></i>12_Imputacion_censal.R</a></li>
<li class="chapter" data-level="" data-path="estimacion_ent_02.html"><a href="estimacion_ent_02.html"><i class="fa fa-check"></i>13_Estimacion_ent_02.R</a></li>
<li class="chapter" data-level="" data-path="estimacion_municipios_ipm_pobreza.html"><a href="estimacion_municipios_ipm_pobreza.html"><i class="fa fa-check"></i>14_estimacion_municipios_ipm_pobreza.R</a></li>
<li class="chapter" data-level="" data-path="estimacion_municipios_ipm_pobreza_error.html"><a href="estimacion_municipios_ipm_pobreza_error.html"><i class="fa fa-check"></i>15_estimacion_municipios_ipm_pobreza_error.R</a></li>
<li class="chapter" data-level="" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i>16_Mapas.R</a></li>
<li class="chapter" data-level="" data-path="estimacion_municipios_carencias.html"><a href="estimacion_municipios_carencias.html"><i class="fa fa-check"></i>17_estimacion_municipios_carencias.R</a>
<ul>
<li class="chapter" data-level="0.0.1" data-path="estimacion_municipios_carencias.html"><a href="estimacion_municipios_carencias.html#descripción-general"><i class="fa fa-check"></i><b>0.0.1</b> Descripción General</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="estimacion_municipios_carencias_error.html"><a href="estimacion_municipios_carencias_error.html"><i class="fa fa-check"></i>18_estimacion_municipios_carencias_error.R</a></li>
<li class="chapter" data-level="" data-path="mapas_carencias.html"><a href="mapas_carencias.html"><i class="fa fa-check"></i>19_Mapas_carencias.R</a></li>
<li class="chapter" data-level="" data-path="estimacion_directa_carencias.html"><a href="estimacion_directa_carencias.html"><i class="fa fa-check"></i>20_estimacion_directa_carencias.R</a></li>
<li class="divider"></li>
<li><a Manual de procesamiento. </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modelo_unidad_py_ic_ali_nc.r" class="section level1 unnumbered hasAnchor">
<h1>07_Modelo_unidad_py_ic_ali_nc.R<a href="modelo_unidad_py_ic_ali_nc.html#modelo_unidad_py_ic_ali_nc.r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Para la ejecución del presente archivo, debe abrir el archivo <strong>07_Modelo_unidad_py_ic_ali_nc.R</strong> disponible en la ruta <em>Rcodes/2020/07_Modelo_unidad_py_ic_ali_nc.R</em>.</p>
<p>Este script en R se centra en la creación de un modelo multinivel para predecir la carencia en alimentos nutritivos y de calidad , utilizando datos de encuestas y censos. Comienza limpiando el entorno de trabajo (<code>rm(list = ls())</code>) y cargando las librerías necesarias para la integración con Python. Además, se importan los módulos <code>pandas</code> y las bibliotecas <code>sklearn.feature_selection</code> y <code>sklearn.ensemble</code> de Python. También se carga una fuente externa de modelos (<code>source("source/modelos_freq.R")</code>). Luego, se definen las variables para la agregación (<code>byAgrega</code>) y se aumenta el límite de memoria disponible. Las bases de datos necesarias (<code>encuesta_sta</code>, <code>censo_sta</code> y <code>statelevel_predictors_df</code>) se cargan, y se seleccionan las variables covariantes relevantes excluyendo aquellas que comienzan con <code>hog_</code> o <code>cve_mun</code>.</p>
<p>El script incluye un paso comentado para la selección de características utilizando el método RFE de <code>caret</code> y Python, pero en esta versión, se listan explícitamente las variables seleccionadas (<code>variables_seleccionadas</code>) y se combinan con otras covariantes para formar <code>cov_names</code>. Luego, se construye la fórmula del modelo (<code>formula_model</code>), que incluye efectos aleatorios para <code>cve_mun</code>, <code>hlengua</code> y <code>discapacidad</code>, así como efectos fijos para las demás variables. Se ajusta el modelo utilizando la función <code>modelo_dummy</code>, que está definida en el archivo fuente cargado previamente. Los datos de entrada incluyen <code>encuesta_sta</code> (con una nueva variable <code>yk</code>), <code>statelevel_predictors_df</code>, <code>censo_sta</code> y la fórmula del modelo. Este enfoque permite una modelización robusta y ajustada a las especificaciones de los datos disponibles.</p>
<p>Finalmente, los resultados del modelo se guardan en un archivo RDS (<code>fit_mrp_ic_ali_nc.rds</code>). Este paso asegura que los resultados del análisis estén disponibles para futuras referencias y análisis adicionales. Guardar los resultados en un archivo RDS facilita su recuperación y análisis posterior, permitiendo a los investigadores y analistas continuar trabajando con los resultados sin necesidad de recalcular el modelo cada vez. Además, se generan gráficos de densidad y histogramas de las distribuciones posteriores utilizando ggsave, lo que proporciona una visualización clara y comprensible de los resultados del modelo.</p>
<div id="limpieza-del-entorno-y-carga-de-bibliotecas-4" class="section level4 unnumbered hasAnchor">
<h4>Limpieza del Entorno y Carga de Bibliotecas<a href="modelo_unidad_py_ic_ali_nc.html#limpieza-del-entorno-y-carga-de-bibliotecas-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>En esta etapa, se realiza la limpieza del entorno de R para eliminar objetos previamente cargados y garantizar un inicio limpio para el análisis. Esto se hace utilizando el comando <code>rm(list = ls())</code>, que elimina todos los objetos del espacio de trabajo actual.</p>
<p>A continuación, se cargan las bibliotecas necesarias para el análisis. Estas bibliotecas incluyen:</p>
<ul>
<li><strong><code>patchwork</code></strong>: Para la combinación de múltiples gráficos en una sola visualización.</li>
<li><strong><code>nortest</code></strong>: Proporciona pruebas de normalidad para analizar la distribución de los datos.</li>
<li><strong><code>lme4</code></strong>: Utilizada para ajustar modelos lineales mixtos, que permiten manejar datos con estructura jerárquica.</li>
<li><strong><code>tidyverse</code></strong>: Un conjunto de paquetes para la manipulación y visualización de datos.</li>
<li><strong><code>magrittr</code></strong>: Proporciona el operador <code>%&gt;%</code> para facilitar el encadenamiento de operaciones en R.</li>
<li><strong><code>caret</code></strong>: Para la creación de modelos de machine learning y la selección de variables.</li>
<li><strong><code>car</code></strong>: Ofrece herramientas para el análisis de regresión y diagnóstico de modelos.</li>
<li><strong><code>randomForest</code></strong>: Implementa el algoritmo de bosques aleatorios para clasificación y regresión.</li>
<li><strong><code>reticulate</code></strong>: Permite la integración de Python en R, facilitando el uso de bibliotecas de Python desde el entorno R.</li>
</ul>
<p>Además, se importan módulos específicos de Python usando <code>reticulate</code>:</p>
<ul>
<li><strong><code>pandas</code></strong>: Para la manipulación de datos en estructuras tabulares.</li>
<li><strong><code>sklearn.feature_selection</code></strong>: Para la selección de características en modelos de machine learning.</li>
<li><strong><code>sklearn.ensemble</code></strong>: Proporciona métodos de ensamblaje, como los bosques aleatorios y gradientes impulsados.</li>
</ul>
<p>Finalmente, se carga un script adicional, <code>modelos_freq.R</code>, que probablemente contiene funciones personalizadas o modelos específicos necesarios para el análisis. Esto asegura que todas las herramientas y funciones requeridas estén disponibles para proceder con el análisis.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span><span class="fu">ls</span>())</span>
<span id="cb62-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-2" tabindex="-1"></a></span>
<span id="cb62-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-3" tabindex="-1"></a><span class="co"># Loading required libraries ----------------------------------------------</span></span>
<span id="cb62-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-4" tabindex="-1"></a></span>
<span id="cb62-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-5" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb62-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-6" tabindex="-1"></a><span class="fu">library</span>(nortest)</span>
<span id="cb62-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-7" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb62-8"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-8" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb62-9"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-9" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb62-10"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-10" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb62-11"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-11" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb62-12"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-12" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span>
<span id="cb62-13"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-13" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb62-14"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-14" tabindex="-1"></a></span>
<span id="cb62-15"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-15" tabindex="-1"></a>pd <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">&quot;pandas&quot;</span>)</span>
<span id="cb62-16"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-16" tabindex="-1"></a>sklearn_fs <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">&quot;sklearn.feature_selection&quot;</span>)</span>
<span id="cb62-17"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-17" tabindex="-1"></a>sklearn_ensemble <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">&quot;sklearn.ensemble&quot;</span>)</span>
<span id="cb62-18"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-18" tabindex="-1"></a></span>
<span id="cb62-19"><a href="modelo_unidad_py_ic_ali_nc.html#cb62-19" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;../source/modelos_freq.R&quot;</span>)</span></code></pre></div>
</div>
<div id="carga-de-datos-1" class="section level4 unnumbered hasAnchor">
<h4>Carga de Datos<a href="modelo_unidad_py_ic_ali_nc.html#carga-de-datos-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>En esta fase, se procede a la carga de los datos necesarios para el análisis. Se utilizan las funciones <code>readRDS()</code> para leer archivos en formato RDS, que es un formato de almacenamiento de objetos en R.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Carga de la Encuesta:</strong> Se carga el conjunto de datos de la encuesta, almacenado en el archivo <code>../input/2020/enigh/encuesta_sta.rds</code>. Este conjunto de datos contiene información sobre las variables de interés para el análisis.</p></li>
<li><p><strong>Carga del Censo:</strong> Se lee el archivo <code>../input/2020/muestra_ampliada/muestra_cuestionario_ampliado.rds</code>, que contiene datos censales ampliados. Estos datos se usarán para la calibración y comparación con los datos de la encuesta.</p></li>
<li><p><strong>Carga de Predictores Estatales:</strong> Se carga el archivo <code>../input/2020/predictores/statelevel_predictors_df.rds</code>, que incluye predictores a nivel estatal que se utilizarán para el análisis.</p></li>
</ol>
<p>Además, se extraen los nombres de las variables del dataframe <code>statelevel_predictors_df</code> y se filtran para eliminar las variables que comienzan con “hog_” o “cve_mun”, asegurando que solo se conserven las variables relevantes para el análisis posterior. Esto se realiza mediante la función <code>grepl()</code> para identificar y excluir las variables no deseadas.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-1" tabindex="-1"></a><span class="co"># Loading data ------------------------------------------------------------</span></span>
<span id="cb63-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-3" tabindex="-1"></a><span class="fu">memory.limit</span>(<span class="dv">10000000</span>)</span>
<span id="cb63-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-4" tabindex="-1"></a>encuesta_sta <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;../input/2020/enigh/encuesta_sta.rds&quot;</span>)</span>
<span id="cb63-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-5" tabindex="-1"></a>censo_sta <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;../input/2020/muestra_ampliada/muestra_cuestionario_ampliado.rds&quot;</span>)</span>
<span id="cb63-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-6" tabindex="-1"></a>statelevel_predictors_df <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;../input/2020/predictores/statelevel_predictors_df.rds&quot;</span>)</span>
<span id="cb63-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-7" tabindex="-1"></a></span>
<span id="cb63-8"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-8" tabindex="-1"></a>cov_names <span class="ot">&lt;-</span> <span class="fu">names</span>(statelevel_predictors_df)</span>
<span id="cb63-9"><a href="modelo_unidad_py_ic_ali_nc.html#cb63-9" tabindex="-1"></a>cov_names <span class="ot">&lt;-</span> cov_names[<span class="sc">!</span><span class="fu">grepl</span>(<span class="at">x =</span> cov_names,<span class="at">pattern =</span> <span class="st">&quot;^hog_|cve_mun&quot;</span>)]</span></code></pre></div>
</div>
<div id="selección-de-variables-1" class="section level4 unnumbered hasAnchor">
<h4>Selección de Variables<a href="modelo_unidad_py_ic_ali_nc.html#selección-de-variables-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>En esta etapa, se definen y seleccionan las variables que serán utilizadas en el análisis posterior.</p>
<ol style="list-style-type: decimal">
<li><strong>Variables de Agregación:</strong> Se establece un vector llamado <code>byAgrega</code> que contiene las variables de agregación. Estas variables son fundamentales para estructurar y resumir los datos de acuerdo a diferentes dimensiones y características. El vector incluye:
<ul>
<li><code>ent</code> (Entidad Federativa)</li>
<li><code>cve_mun</code> (Clave de Municipio)</li>
<li><code>area</code> (Área)</li>
<li><code>sexo</code> (Sexo)</li>
<li><code>edad</code> (Edad)</li>
<li><code>discapacidad</code> (Discapacidad)</li>
<li><code>hlengua</code> (Lengua Indígena)</li>
<li><code>nivel_edu</code> (Nivel Educativo)</li>
</ul></li>
<li><strong>Selección de Variables Predictoras:</strong> Se identifican las variables predictoras más relevantes para el análisis. En el código comentado, se había planificado usar un modelo de Random Forest y el método RFE (Recursive Feature Elimination) de Python para seleccionar las variables predictoras más importantes. Sin embargo, el código relacionado con la integración de Python se encuentra comentado.</li>
</ol>
<p>En lugar de ello, se definen directamente las variables seleccionadas y se especifica un vector <code>cov_names</code> que incluye las variables predictoras relevantes para el análisis. Estas variables son:
- <code>modifica_humana</code> (Modificación Humana)
- <code>acceso_hosp</code> (Acceso a Hospital)
- <code>acceso_hosp_caminando</code> (Acceso a Hospital Caminando)
- <code>cubrimiento_cultivo</code> (Cobertura de Cultivo)
- <code>cubrimiento_urbano</code> (Cobertura Urbana)
- <code>luces_nocturnas</code> (Luces Nocturnas)
- Variables seleccionadas como <code>porc_ing_ilpi_urb</code>, <code>pob_ind_rur</code>, <code>pob_ind_urb</code>, <code>porc_hogremesas_rur</code>, <code>porc_segsoc15</code>, <code>porc_ali15</code>, <code>plp15</code>, <code>pob_rur</code>, y <code>altitud1000</code>.</p>
<p>Estos pasos aseguran que se utilicen las variables más relevantes para el análisis, optimizando la capacidad predictiva y el rendimiento del modelo.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-1" tabindex="-1"></a><span class="do">## Selección de variables</span></span>
<span id="cb64-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-2" tabindex="-1"></a></span>
<span id="cb64-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-3" tabindex="-1"></a>byAgrega <span class="ot">&lt;-</span></span>
<span id="cb64-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-4" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;ent&quot;</span>,</span>
<span id="cb64-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-5" tabindex="-1"></a>    <span class="st">&quot;cve_mun&quot;</span>,</span>
<span id="cb64-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-6" tabindex="-1"></a>    <span class="st">&quot;area&quot;</span>,</span>
<span id="cb64-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-7" tabindex="-1"></a>    <span class="st">&quot;sexo&quot;</span>,</span>
<span id="cb64-8"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-8" tabindex="-1"></a>    <span class="st">&quot;edad&quot;</span>,</span>
<span id="cb64-9"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-9" tabindex="-1"></a>    <span class="st">&quot;discapacidad&quot;</span>,</span>
<span id="cb64-10"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-10" tabindex="-1"></a>    <span class="st">&quot;hlengua&quot;</span>,</span>
<span id="cb64-11"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-11" tabindex="-1"></a>    <span class="st">&quot;nivel_edu&quot;</span> )</span>
<span id="cb64-12"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-12" tabindex="-1"></a></span>
<span id="cb64-13"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-13" tabindex="-1"></a></span>
<span id="cb64-14"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-14" tabindex="-1"></a><span class="co"># encuesta_sta2 &lt;- encuesta_sta %&gt;%   mutate(</span></span>
<span id="cb64-15"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-15" tabindex="-1"></a><span class="co">#   yk = as.factor(ifelse(ic_ali_nc == 1 ,1,0))) %&gt;%</span></span>
<span id="cb64-16"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-16" tabindex="-1"></a><span class="co">#   inner_join(statelevel_predictors_df[, c(&quot;cve_mun&quot;,cov_names)])</span></span>
<span id="cb64-17"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-17" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb64-18"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-18" tabindex="-1"></a><span class="co"># # Convertir &#39;encuesta_sta2&#39; a un dataframe de Python</span></span>
<span id="cb64-19"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-19" tabindex="-1"></a><span class="co"># encuesta_sta2_py &lt;- pd$DataFrame(encuesta_sta2)</span></span>
<span id="cb64-20"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-20" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb64-21"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-21" tabindex="-1"></a><span class="co"># # Obtener &#39;X&#39; y &#39;y&#39; del dataframe de Python</span></span>
<span id="cb64-22"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-22" tabindex="-1"></a><span class="co"># X &lt;- encuesta_sta2_py[cov_names]</span></span>
<span id="cb64-23"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-23" tabindex="-1"></a><span class="co"># y &lt;- encuesta_sta2_py[[&#39;yk&#39;]]</span></span>
<span id="cb64-24"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-24" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb64-25"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-25" tabindex="-1"></a><span class="co"># # Crear el modelo de clasificación, por ejemplo, un Random Forest</span></span>
<span id="cb64-26"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-26" tabindex="-1"></a><span class="co"># modelo &lt;- sklearn_ensemble$RandomForestClassifier()</span></span>
<span id="cb64-27"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-27" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb64-28"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-28" tabindex="-1"></a><span class="co"># # Crear el selector RFE con el modelo y el número de características a seleccionar</span></span>
<span id="cb64-29"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-29" tabindex="-1"></a><span class="co"># selector &lt;- sklearn_fs$RFE(modelo, n_features_to_select = as.integer(10))</span></span>
<span id="cb64-30"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-30" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb64-31"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-31" tabindex="-1"></a><span class="co"># # Ajustar los datos</span></span>
<span id="cb64-32"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-32" tabindex="-1"></a><span class="co"># selector$fit(X, y)</span></span>
<span id="cb64-33"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-33" tabindex="-1"></a><span class="co"># # Obtener las variables seleccionadas</span></span>
<span id="cb64-34"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-34" tabindex="-1"></a><span class="co"># variables_seleccionadas &lt;- X[selector$support_] %&gt;% names()</span></span>
<span id="cb64-35"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-35" tabindex="-1"></a></span>
<span id="cb64-36"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-36" tabindex="-1"></a>variables_seleccionadas <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb64-37"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-37" tabindex="-1"></a>  <span class="st">&quot;porc_ing_ilpi_urb&quot;</span>,</span>
<span id="cb64-38"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-38" tabindex="-1"></a>  <span class="st">&quot;pob_ind_rur&quot;</span>,</span>
<span id="cb64-39"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-39" tabindex="-1"></a>  <span class="st">&quot;pob_ind_urb&quot;</span>,</span>
<span id="cb64-40"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-40" tabindex="-1"></a>  <span class="st">&quot;porc_hogremesas_rur&quot;</span>,</span>
<span id="cb64-41"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-41" tabindex="-1"></a>  <span class="st">&quot;porc_segsoc15&quot;</span>,</span>
<span id="cb64-42"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-42" tabindex="-1"></a>  <span class="st">&quot;porc_ali15&quot;</span>,</span>
<span id="cb64-43"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-43" tabindex="-1"></a>  <span class="st">&quot;plp15&quot;</span>,</span>
<span id="cb64-44"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-44" tabindex="-1"></a>  <span class="st">&quot;pob_rur&quot;</span>,</span>
<span id="cb64-45"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-45" tabindex="-1"></a>  <span class="st">&quot;altitud1000&quot;</span></span>
<span id="cb64-46"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-46" tabindex="-1"></a>)</span>
<span id="cb64-47"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-47" tabindex="-1"></a>cov_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb64-48"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-48" tabindex="-1"></a>  <span class="st">&quot;modifica_humana&quot;</span>,  <span class="st">&quot;acceso_hosp&quot;</span>,           </span>
<span id="cb64-49"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-49" tabindex="-1"></a>  <span class="st">&quot;acceso_hosp_caminando&quot;</span>,  <span class="st">&quot;cubrimiento_cultivo&quot;</span>,   </span>
<span id="cb64-50"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-50" tabindex="-1"></a>  <span class="st">&quot;cubrimiento_urbano&quot;</span>,     <span class="st">&quot;luces_nocturnas&quot;</span> ,</span>
<span id="cb64-51"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-51" tabindex="-1"></a>  variables_seleccionadas</span>
<span id="cb64-52"><a href="modelo_unidad_py_ic_ali_nc.html#cb64-52" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="definición-de-la-fórmula-del-modelo" class="section level4 unnumbered hasAnchor">
<h4>Definición de la Fórmula del Modelo<a href="modelo_unidad_py_ic_ali_nc.html#definición-de-la-fórmula-del-modelo" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Se define una fórmula para el modelo que incluye tanto efectos aleatorios como variables predictoras seleccionadas. Primero, se determina el conjunto de variables relevantes excluyendo algunas específicas que no se incluirán en el análisis. Estas exclusiones se hacen utilizando la función <code>setdiff</code>, que elimina variables como <code>elec_mun20</code>, <code>elec_mun19</code>, <code>transf_gobpc_15_20</code>, y otras relacionadas con transferencias, electrificación, y características del desempeño y calidad.</p>
<p>El vector resultante de variables seleccionadas se concatena en una cadena de texto para construir la fórmula del modelo. Esta fórmula se configura para ajustar el modelo a datos binomiales, utilizando <code>cbind(si, no)</code> como la variable dependiente. La fórmula también incorpora efectos aleatorios para la clave de municipio <code>(1 | cve_mun)</code>, la lengua indígena <code>(1 | hlengua)</code>, y la discapacidad <code>(1 | discapacidad)</code>. Además, incluye efectos fijos para <code>nivel_edu</code>, <code>edad</code>, <code>ent</code>, <code>area</code>, y <code>sexo</code>. Finalmente, se agregan las variables predictoras seleccionadas.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-1" tabindex="-1"></a>cov_registros <span class="ot">&lt;-</span></span>
<span id="cb65-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-2" tabindex="-1"></a>  <span class="fu">setdiff</span>(</span>
<span id="cb65-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-3" tabindex="-1"></a>    cov_names,</span>
<span id="cb65-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-4" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb65-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-5" tabindex="-1"></a>      <span class="st">&quot;elec_mun20&quot;</span>,</span>
<span id="cb65-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-6" tabindex="-1"></a>      <span class="st">&quot;elec_mun19&quot;</span>,</span>
<span id="cb65-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-7" tabindex="-1"></a>      <span class="st">&quot;transf_gobpc_15_20&quot;</span>,</span>
<span id="cb65-8"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-8" tabindex="-1"></a>      <span class="st">&quot;derhab_pea_15_20&quot;</span>,</span>
<span id="cb65-9"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-9" tabindex="-1"></a>      <span class="st">&quot;vabpc_15_19&quot;</span> ,</span>
<span id="cb65-10"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-10" tabindex="-1"></a>      <span class="st">&quot;itlpis_15_20&quot;</span>  ,</span>
<span id="cb65-11"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-11" tabindex="-1"></a>      <span class="st">&quot;remespc_15_20&quot;</span>,</span>
<span id="cb65-12"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-12" tabindex="-1"></a>      <span class="st">&quot;desem_15_20&quot;</span>,</span>
<span id="cb65-13"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-13" tabindex="-1"></a>      <span class="st">&quot;porc_urb&quot;</span> ,  </span>
<span id="cb65-14"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-14" tabindex="-1"></a>      <span class="st">&quot;edad65mas_urb&quot;</span>, </span>
<span id="cb65-15"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-15" tabindex="-1"></a>      <span class="st">&quot;pob_tot&quot;</span> ,</span>
<span id="cb65-16"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-16" tabindex="-1"></a>      <span class="st">&quot;acc_muyalto&quot;</span> ,</span>
<span id="cb65-17"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-17" tabindex="-1"></a>      <span class="st">&quot;smg1&quot;</span>,</span>
<span id="cb65-18"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-18" tabindex="-1"></a>      <span class="st">&quot;ql_porc_cpa_rur&quot;</span>,</span>
<span id="cb65-19"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-19" tabindex="-1"></a>      <span class="st">&quot;ql_porc_cpa_urb&quot;</span></span>
<span id="cb65-20"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-20" tabindex="-1"></a>    )</span>
<span id="cb65-21"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-21" tabindex="-1"></a>  )</span>
<span id="cb65-22"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-22" tabindex="-1"></a></span>
<span id="cb65-23"><a href="modelo_unidad_py_ic_ali_nc.html#cb65-23" tabindex="-1"></a>cov_registros <span class="ot">&lt;-</span> <span class="fu">paste0</span>(cov_registros, <span class="at">collapse =</span> <span class="st">&quot; + &quot;</span>)</span></code></pre></div>
<p>La fórmula completa se define como:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-1" tabindex="-1"></a>formula_model <span class="ot">&lt;-</span></span>
<span id="cb66-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-2" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb66-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-3" tabindex="-1"></a>    <span class="st">&quot;cbind(si, no) ~ (1 | cve_mun) + (1 | hlengua) + (1 | discapacidad) +  nivel_edu + edad  + ent + area + sexo &quot;</span></span>
<span id="cb66-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-4" tabindex="-1"></a>    ,</span>
<span id="cb66-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-5" tabindex="-1"></a>    <span class="st">&quot; + &quot;</span>,</span>
<span id="cb66-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-6" tabindex="-1"></a>    cov_registros</span>
<span id="cb66-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb66-7" tabindex="-1"></a>  )</span></code></pre></div>
<p>Esta estructura permite capturar la variabilidad entre los municipios y otras dimensiones de la población, mientras que también evalúa el impacto de las variables predictoras sobre la variable dependiente.</p>
</div>
<div id="ajuste-del-modelo-1" class="section level4 unnumbered hasAnchor">
<h4>Ajuste del Modelo<a href="modelo_unidad_py_ic_ali_nc.html#ajuste-del-modelo-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Se ajusta el modelo utilizando la función <code>modelo_dummy</code>, que se aplica a los datos de la encuesta junto con los predictores y el censo. Primero, se transforma la variable <code>ic_ali_nc</code> en una variable binaria <code>yk</code>, donde se asigna el valor 1 si <code>ic_ali_nc</code> es igual a 1, y 0 en caso contrario. Esta transformación permite modelar la variable como un resultado binomial en el análisis.</p>
<p>Luego, se pasa el conjunto de datos transformado (<code>encuesta_sta</code> con la nueva variable <code>yk</code>), los predictores a nivel estatal (<code>statelevel_predictors_df</code>), y el censo estatal (<code>censo_sta</code>) a la función <code>modelo_dummy</code>, junto con la fórmula del modelo previamente definida y el vector <code>byAgrega</code> para la agregación.</p>
<p>Finalmente, se guarda el resultado del ajuste del modelo en un archivo RDS en la carpeta especificada, utilizando el nombre <code>fit_mrp_ic_ali_nc.rds</code>. Esto permite almacenar los resultados del modelo para su posterior análisis o uso.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-1" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">modelo_dummy</span>(</span>
<span id="cb67-2"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-2" tabindex="-1"></a>  <span class="at">encuesta_sta =</span> encuesta_sta <span class="sc">%&gt;%</span>  </span>
<span id="cb67-3"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-3" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">yk =</span> <span class="fu">ifelse</span>(ic_ali_nc <span class="sc">==</span> <span class="dv">1</span> , <span class="dv">1</span>, <span class="dv">0</span>))  ,</span>
<span id="cb67-4"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-4" tabindex="-1"></a>  <span class="at">predictors =</span> statelevel_predictors_df,</span>
<span id="cb67-5"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-5" tabindex="-1"></a>  <span class="at">censo_sta =</span> censo_sta,</span>
<span id="cb67-6"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-6" tabindex="-1"></a>  <span class="at">formula_mod =</span> formula_model,</span>
<span id="cb67-7"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-7" tabindex="-1"></a>  <span class="at">byAgrega =</span> byAgrega</span>
<span id="cb67-8"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-8" tabindex="-1"></a>)</span>
<span id="cb67-9"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-9" tabindex="-1"></a></span>
<span id="cb67-10"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-10" tabindex="-1"></a><span class="co">#--- Exporting Bayesian Multilevel Model Results ---#</span></span>
<span id="cb67-11"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-11" tabindex="-1"></a></span>
<span id="cb67-12"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-12" tabindex="-1"></a><span class="fu">saveRDS</span>(fit, </span>
<span id="cb67-13"><a href="modelo_unidad_py_ic_ali_nc.html#cb67-13" tabindex="-1"></a>        <span class="at">file =</span> <span class="st">&quot;../output/2020/modelos/fit_mrp_ic_ali_nc.rds&quot;</span>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modelo_unidad_ictpc.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelo_unidad_py_ic_segsoc.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/2023MEXsae/07_Modelo_unidad_py_ic_ali_nc.qmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020.pdf", "Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020.epub", "Manual de procesamiento del indicador de pobreza multidimensional mediante el uso de estimación de áreas pequeñas para México 2020.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

</body>

</html>
